name: Auto approve and merge PRs by dependabot

# Trigger the workflow on pull request
on:
  pull_request:
    branches:
      - 'infra/dependabot'

jobs:
  autoapprove:
    name: Auto Approve a PR by dependabot # Name of the job
      runs-on: ubuntu-latest # Environment on which the job runs
      steps:
        - name: Auto approve
          uses: hmarr/auto-approve-action@v3 # Custom action for auto approval already available on marketplace
          # Perform the auto approve action only when the PR is raised by dependabot
          with:
            GITHUB_TOKEN: ${{secrets.GITHUB_TOKEN}}
